# 定时serverCron
## 一、时间事件的应用实例serverCron
### 1、更新服务器的各类统计信息
### 2、清理数据库中过期的键值对
### 3、关闭和清理连接失效的客户端
### 4、尝试进行AOF或RDB持久化操作
### 5、如果服务器是主服务器,则对从服务器进行定期同步
### 6、如果处于集群模式,对集群进行定期同步和连接测试

## 二、serverCron函数执行都做什么?
    时间缓存避免每次调用执行系统时间函数
    瞬时指标抽样测算 命令执行次数 网络流入流出流量
    服务器lruclock缓存
    更新内存峰值缓存
    SIGTERM信号处理 安全关闭
    数据库db中键情况上报
    连接情况上报
    客户端资源定时管理 断开超时连接 缩小客户端输入缓冲
    数据库资源定时管理 主动删除过期键 尝试收缩字典
    执行被延迟的aof重写
    BGSAVE或者BGREWRITEAOF的善后工作
    检查是否需要执行bgsave和bgrewriteaof
    ...
    ...